<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Assignment 2</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/clean-blog.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
    div.img {
        float:left;
    }
    pre {
        text-align: left;
    }
    </style>

</head>

<body>
    <!-- Page Header -->
    <!-- Set your background ge for this header on the line below. -->
    <header class="intro-header" style="background-image: url('img/as2/bounce.png')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Assignment 2: Ray Tracer<br/><br/></h1>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <p><a href="http://inst.cs.berkeley.edu/~CS184-ck/#ass2">Kyle Boss</a>, <a href="http://inst.cs.berkeley.edu/~CS184-ef">Declan Jones</a> and I made a ray tracer from scratch. It supports the required things: </p>
                    <p><ul>
                <li> Support for directional, point and ambient lights
                <li>  Phong shading model for spheres and polygons
                <li>  Reading and rendering .obj files (with normal interpolation if specified)
               <li>  Shadows and reflections
               <li>  Translations, scales and rotations (linear transformations)
                <li> Using openCV to save to a .PNG
                    </ul> </p>

                <p>As well as these extra features: </p>
                <p><ul>
                <li> Anti-aliasing (random/jittered model) 
                <li> Multithreading
                <li> Acceleration with AABB Trees
                <li> Shearing
                    </ul> </p>

                    <p>All inputs to our ray tracer are a .scene file in which each line specifies a different object (camera location, light, shape, transformation etc.) To evoke anti-aliasing, add "alias", and to evoke multithreading, add "thread [# of threads]".</p>

                    <h2 class="section-heading">Examples</h2>


                    <center>

                        <p><b>Eggs in a Basket</b> </p>
                        <img class="img-responsive" src="img/as2/egg.png">
                        <span class="caption text-muted"> Showcases multiple lights and shadows, as well as reflectivity and a perspective viewing of both spheres and triangles.
                        <pre>cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
ltd 2 2 3 .9 .24 .82
ltp -2 2 3 .75 .2 .95
ltp 2 -2 3 .1 .5 .9
ltd 0 -1 -1 .6 .5 .2
lta   1 1 1

mat   .1 .2 .1   .5 .5 .5  .5 .5 .5   250   0 0 0

sph 0 -1 0 .45
sph -1 -1 0 .45
sph 1 -1 0 .45

sph 0 0 0 .45
sph -1 0 0 .45
sph 1 0 0 .45

sph 0 1 0 .45
sph -1 1 0 .45
sph 1 1 0 .45

mat   .1 .1 .1   .5 .6 .25  .2 .2 .2   64   .3 .3 .3
tri 4 4 -5   -4 4 -2    -4 -4 -2
tri 4 4 -5   -4 -4 -2   4 -4 -5

thread 3</pre>
                        </span>

                        <p><b>Crystal Gems</b> </p>
                        <img class="img-responsive" src="img/as2/gem.png">
                        <span class="caption text-muted">
                            Showcases .obj parsing (Tetrahedron obj kindly provided by <a href="http://www-inst.eecs.berkeley.edu/~cs184-cz/ass2/simple/">Baruch</a>), reflective floor and all transformations on triangles.
                       <pre>
cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
mat   .2 .1 .1   .18 .36 .9  0 0 0   64   0 0 0
ltp   1 1 1   1 1 1   0
lta   .5 .5 .5
xft -.3 0 0
xfr 0 105 0
obj octa.obj

xfz
xfs .5 .5 .5
xft 1 -.25 -1
xfr -25 -90 0
mat   .1 .1 .2   .36 .16 .9  0 0 0   64   0 0 0
obj octa.obj

xfz
mat .1 .1 .1 0 0 0  0 0 0  0 1 1 1
tri -5 -1 -1  5 -1 -1  -5 -1 1
tri 5 -1 -1  5 -1 1  -5 -1 1
                       </pre>
                        </span>
                        
                        <p><b>Smooth Me!</b> </p>
                        <img class="img-responsive" src="img/as2/alias.png">
                        <span class="caption text-muted">
                        Showcases anti-aliasing on multiple shapes and shadows.
<pre> 
cam   0 0 0   -1 -1 -3   1 -1 -3   -1 1 -3   1 1 -3

ltd   0.57735027 -0.57735027 -0.57735027   1 1 1
ltd   0.57735027 0.57735027 -0.57735027   0 0 1   

mat   0.1 0.1 0.1   1 0 1   1 1 1   50   0 0 0
sph 0 0 -20   3

mat   0.1 0.1 0.1   1 1 0   1 1 1   50   0 0 0
sph -2 2 -15   1

mat   0.1 0.1 0.1   0 1 1   1 1 1   50   0 0 0
sph -2 -2 -15   1

mat   0.1 0.1 0.1   0.1 0.1 0.1   1 1 1   50   1 1 1
tri 5 5 -17 1 4 -20 6 -1 -20
</pre>

                        </span>

                        <p><b>Attenuation & Aliasing</b> </p>
                        <img class="img-responsive" src="img/as2/a0.png"> 
                        <img class="img-responsive" src="img/as2/a1.png"> 
                   <img class="img-responsive" src="img/as2/a2.png">                       
                        <span class="caption text-muted">
                        A series of 3 images showing point light fall off and anti-aliasing. To save space, only one .scene file is shown - just interchange the last point light number.
<pre>cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
ltp   1 1 1   1 1 1   <0/1/2>

lta   1 1 1

mat   .1 .1 .1   .95 .45 .22  1 1 1   64   0 0 0

sph 0 1 0 .5

mat   .1 .1 .1   .22 .45 .95  1 1 1   64   0 0 0

sph 0 0 -1.5 .5

mat   .1 .1 .1   .45 .95 .22  1 1 1   64   0 0 0

sph 0 -2 -3 .5

alias
</pre>
                                    </span>


                        <p><b>Boxes</b> </p>
                        <img class="img-responsive" src="img/as2/box.png">
                        <span class="caption text-muted">
                        More .obj parsing (this time yours truly made the file): cubes instead of tetrahedrons. Transformations, reflections, etc.
<pre>cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
mat   .2 .1 .1   .18 .36 .9  .5 .5 .5   64   .2 .2 .2
ltp   1 1 1   1 1 1   0
ltd   -.5 -.5 -.5 1 1 1
lta   .5 .5 .5

xft .5 -.1 0
xfs .25 .25 .25
xfr 0 45 0
obj cube.obj

xfz
mat   .2 .1 .1   .9 .36 .18  .5 .5 .5   64   0 0 0
xft -.25 0 1
xfr 0 -45 0
obj cube.obj

xfz
mat .3 .3 .3 0 0 0  0 0 0  0 1 1 1
tri -5 -1 -5  5 -1 -5  -5 -1 1
tri 5 -1 -5  5 -1 1  -5 -1 1

thread 3
</pre>
                                    </span>


              <p><b>Mirror, Mirror Everywhere</b> </p>
                        <img class="img-responsive" src="img/as2/bounce.png">
                        <span class="caption text-muted">
                        Fun with reflections!
<pre>cam   0 0 0   -1 -1 -3   1 -1 -3   -1 1 -3   1 1 -3

ltd   0.57735027 -0.57735027 -0.57735027    1 1 1
ltd   -0.57735027 0.57735027 0.57735027   .8 .22 .22   
lta 1 1 1 

mat   0.1 0.1 0.1   .96 .3 .11   .5 .5 .5   50   0.3 0.3 0.3
sph 0 0 -17   2

mat   0.1 0.1 0.1   .72 .29 1   .5 .5 .5   50   0.9 0.9 0.9
sph 0 4 -17   1.5

mat   0.1 0.1 0.1   1 .29 .6  .5 .5 .5   50   0.9 0.9 0.9
sph 0 -4 -17   1.5

mat   0.1 0.1 0.1   .29 1 .77   .5 .5 .5   50   0.9 0.9 0.9
sph 4 0 -17   1.5

mat   0.1 0.1 0.1   .77 1 .29   .5 .5 .5   50   0.9 0.9 0.9
sph -4 0 -17   1.5
</pre>
                                    </span>

  <p><b>A Quiet Night</b> </p>
                        <img class="img-responsive" src="img/as2/shapealias.png">
                        <span class="caption text-muted">
                        Random reflective geometries, anti-aliased. 
<pre>cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
mat   .2 .1 .1   .36 .82 .80  .5 .5 .5   64   .2 .2 .2
ltd   1 -1 -.5 1 1 1
lta   .5 .5 .5

tri   2 2 -1  -2 -2 -1   2 -2 -1

mat   .2 .1 .1   .8 .32 .80  .5 .5 .5   64   0 0 0
sph -1.5 0 -2 1

mat   .1 .1 .1   .92 .63 .21  .5 .5 .5   64  .2 .2 .2
sph 1 0 0.1 .25

mat .3 .3 .3 0 0 0  0 0 0  0 1 1 1
tri -5 -1 -5  5 -1 -5  -5 -1 1
tri 5 -1 -5  5 -1 1  -5 -1 1

alias
thread 3
</pre>
                                    </span>



                    </center>
                    
                    <h2 class="section-heading">More Stuff to Show This Works</h2>


                    <center>

                        <p>I put these up Tuesday after the assignment due date because Spring Break was Too Much Fun. Many thanks to Baruch for providing the base scenes and .obj files.</p>
                        
                    </center>
<center>

                        <p><b>Simple shading</b> </p>
                        <img class="img-responsive" src="img/as2/ex1.png">
                        <span class="caption text-muted"> A sphere under a point and ambient light with diffuse and specular components to show that shading works.
                        <pre>cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
mat   1 1 1   1 1 1  1 1 1   64   0 0 0
lta   0.1 0.1 0.1
ltp   1 1 1   1 1 1   0
sph   0 0 0   1
alias</pre>
                        </span>

                        <p><b>Simple shadows</b> </p>
                        <img class="img-responsive" src="img/as2/ex2.png">
                        <span class="caption text-muted">
                            Three spheres, to show the difference in point and directional light shadows.
                       <pre>
cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
ltd   -1 -1 -1   1 1 1
ltp -1 1 1  1 1 1  0

mat   1 1 0   1 1 0  0 0 0   64   0 0 0
sph   0 0 0   0.65

mat   1 0 1   1 0 1  0 0 0   64   0 0 0
sph   0.6 0.6 0.7   0.1

mat   0 1 1   0 1 1  0 0 0   64   0 0 0
sph   -0.6 0.6 0.7   0.1

alias
                       </pre>
                        </span>
                        
                        <p><b>Reflections</b> </p>
                        <img class="img-responsive" src="img/as2/ex3.png">
                        <span class="caption text-muted">
                Two spheres (one reflective) and a reflective triangle. Also shows shadowing of a sphere on a triangle.
    <pre> 
cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
mat   0.1 0.1 0.1   .85 .27 .61  0.2 0.2 0.2   64   0.8 0.8 0.8
ltp   1 1 1   1 1 1   0
ltd   1 -1 -1  .4 .4 .4
lta   0.1 0.1 0.1
tri   2 2 -1  -2 -2 -1   2 -2 -1

mat   0.1 0.1 0.1   .92 .19 .54  0.2 0.2 0.2   64   0 0 0 
sph   0.6 0.6 0.7   0.1
mat   0.1 0.1 0.1   .49 .32 1  0.2 0.2 0.2   64   0.8 0.8 0.8
sph   1 -0.8 0.3   0.3

alias
</pre>

                        </span>

                        <p><b>Shear me</b> </p>
                        <img class="img-responsive" src="img/as2/ex4.png">                      
                        <span class="caption text-muted">
                        A rotated, scaled, and sheared (across the z-axis) blue sphere.
<pre>cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1

ltp   1 1 1   1 1 1   0
lta   0.1 0.1 0.1

xfz
xfr 0 90 0
xfs 0.25 2 1
xfh 1 2 1

mat   1 1 1   0 0 1  0 0 1   64   0 0 0
sph   0 0 0   0.5

alias
</pre>
                                    </span>


                        <p><b>.obj Normal Interpolation</b> </p>
                        <img class="img-responsive" src="img/as2/ex5.png">
                        <span class="caption text-muted">
                        Two triangles with given "vn"s in the .obj shaded by their normals under a single point light directly above.
<pre>cam   0 0 2   -1 -1 1   1 -1 1   -1 1 1   1 1 1
mat   0.1 0.1 0.1   1 0 0   0 1 0   64   0 0 0
ltp   0 1 1   1 1 1   0
lta 1 1 1

obj tri2.obj

xfs -1 -1 1
mat   0.1 0.1 0.1   0 1 0   1 0 0   64   0 0 0
obj tri2.obj

alias
</pre>
                                    </span>


            

                    </center>
                    



                       
                    <ul class="pager">
                        <li class="next">
                            <a href="index.html">&larr; Back</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </article>

    <hr>



    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>

</body>

</html>
