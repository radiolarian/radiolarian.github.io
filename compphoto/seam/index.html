<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Seam Carving: CS194, Jingyi Li</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/3-col-portfolio.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Page Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Seam Carving
                    <small>Jingyi Li, cs194-bx</small>
                </h1>
                <p>In this assignment, I used dynamic programming to remove the least cost path in an image to crop it in a context-aware way: this is called seam carving, as described in <a href="http://inst.eecs.berkeley.edu/~cs194-26/fa15/hw/proj4-seamcarving/imret.pdf">this</a> paper. I also tested different energy functions, composed my own image, and implemented seam removal as extra credit. All the images were taken or drawn by me unless otherwise stated! You can right click and open them in new tabs to view fullsize.</p>
            </div>
        </div>

        <!-- Page Header -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Normal Seam Carving
                </h1>
                <p>First, I calculated an image's "energy" from its grayscale representation--in this case, I just took the sum of the absolute values of its x and y gradients (partial derivatives). I then used dynamic programming to propogate these values to create matrix representing various vertical paths through the image (if I wanted to crop by height, I would just flip the image and do this calculation). I then traced back this matrix, finding the minimum adjacent entry for each pixel, to remove a "least cost" path. I did this iteratively for however many pixels I wanted to crop by: one pixel = one path removed. My code takes a few parameters: the image to be cropped, an axis to crop it by, the energy function to use (more on this later), and how much to crop it by, and if that's in % change or in raw pixels.</p>
            </div>
        </div>
        <!-- /.row -->

        <!-- Projects Row -->
        <div class="row">
            <div class="col-md-12 portfolio-item">
                    <img class="img-responsive" src="img/canada.jpg" alt="">
                <h3>
                    A photo I took in Yukon, Canada
                </h3>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/canada-vc.jpg" alt="">
                <h3>
                    Cropped 20% vertically
                </h3>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/canada-vc2.jpg" alt="">
                <h3>
                    Cropped 40% vertically
                </h3>
                <p>Because the foilage is very detailed to computers although we as humans perceive it as a group, this crop mainly focused on removing parts of the cloud.</p>
            </div>
        </div>


        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/canada-hc.jpg" alt="">
                <h3>
                    Cropped 20% horizontally
                </h3>
                <p>It's nice to see all the details of the bottom strip (lake, trees, etc) compressed, not simply cropped out.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/canada-hc2.jpg" alt="">
                <h3>
                    Cropped 40% horizontally
                </h3>
            </div>
        </div>
        <!-- /.row -->

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/yosemite.jpg" alt="">
                <h3>
                    Yosemite
                </h3>
                <p>I took this photo with my Nexus 4, a few hours before falling into a river with it and frying its battery. I think it's the nicest photo my cellphone camera has ever captured.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/yosemite-c.jpg" alt="">
                <h3>
                    Cropped 33% vertically
                </h3>
                <p>Again the comment about foilage being detailed to computers. In this case, compositionally I think a traditional crop in the middle would have looked better: the clouds look <i>too</i> compressed.</p>
            </div>
        </div>




        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/geese.jpg" alt="">
                <h3>
                    Geese
                </h3>
                <p>I took this while studying abroad in Cambridge 2 summers ago! It's the River Cam on the way to Grantchester.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/geese-c.jpg" alt="">
                <h3>
                    Cropped to a perfect square (500x500)
                </h3>
                <p>Now I can Instagram with context!</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/paris.jpg" alt="">
                <h3>
                    The Louvre
                </h3>
                <p>Of course, when you study abroad in the UK, you have to travel to Europe.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/paris-c.jpg" alt="">
                <h3>
                    Cropped 25% vertically
                </h3>
                <p>I'm not a huge fan of the whitespace by the building.</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/dover.jpg" alt="">
                <h3>
                    Dover
                </h3>
                <p>I have a full sized poster print of this hanging in my room :)</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/dover-c.jpg" alt="">
                <h3>
                    Cropped to a perfect square (500x500)
                </h3>
                <p>Again, grass takes priority over clouds.</p>
            </div>
        </div>

                        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/cardiff.jpg" alt="">
                <h3>
                    Some plants in Cardiff
                </h3>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/cardiff-c.jpg" alt="">
                <h3>
                    Cropped to a perfect square (500x500)
                </h3>
                <p>I really like how it pushes the leaves together; also, not many artifacts are detectable in the background</p>
            </div>
        </div>
                <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/bison.jpg" alt="">
                <h3>
                    Bison
                </h3>
                <p>At Yellowstone 5 years ago.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/bison-c.jpg" alt="">
                <h3>
                    Cropped to a perfect square (500x500)
                </h3>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Normal Seam Carving (with non-photographs)
                </h1>
            </div>
        </div>

                        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/emir.jpg" alt="">
                <h3>
                    Emir
                </h3>
                <p>Technically he's a reconstructed photograph from my project 1.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/emir-c.jpg" alt="">
                <h3>
                    Cropped 25% vertically
                </h3>
                <p>I like how his turban shrank, since it was all a uniform color.</p>
            </div>
        </div>




                        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/dragon.png" alt="">
                <h3>
                    Chinese Dragons
                </h3>
                <p>I drew this in Photshop a few years ago. When I still had time to do things. And not coding projects.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/dragon-c.jpg" alt="">
                <h3>
                    Cropped 33% vertically
                </h3>
                <p>I think seam carving works especially well with pixel art.</p>
            </div>
        </div>


                                <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/dog.jpg" alt="">
                <h3>
                    Dog Comic
                </h3>
                <p>Image from <a href="http://sillybro.tumblr.com/post/125823822947/nice">Tumblr</a>.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/dog-c.jpg" alt="">
                <h3>
                    Cropped 33% horizontally
                </h3>
                <p>Seam carving can be used to crop comics with minimal panel disruption too!</p>
            </div>
        </div>

                                <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/anime.jpg" alt="">
                <h3>
                    Dank Meme
                </h3>
                <p>I took inspiration from the resizable text window as seen in the research video. Image from <a href="http://illuxios.tumblr.com/post/119244718421">Tumblr.</a></p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/anime-c.jpg" alt="">
                <h3>
                    Cropped 33% horizontally, and then 20% vertically
                </h3>
                <p>An attack on whitespace. Sadly, the faces suffered some damage. This brings on our next part...</p>
            </div>
        </div>

<div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Failures
                    
                </h1>
                <p>Unfortunately, seam carving is far from a perfect magic algorithm. Here are some examples that didn't work so well, whether it be their composition or that I tried to crop too much.</p>
            </div>
        </div>

                        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/friends.jpg" alt="">
                <h3>
                    Friends
                </h3>
                <p>Photo from <a href="http://imgur.com/gallery/ZNjblV0">imgur</a>. </p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/friends-c.jpg" alt="">
                <h3>
                    Cropped 20% vertically
                </h3>
                <p>While the cat and bunny pancake are unscathed, the chair and table could have smoother transitions with the wall (which is textured).</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/bird.jpg" alt="">
                <h3>
                    Andrew Bird Concert Poster
                </h3>
                <p>I made this poster in 2012 for one of my favorite musicians!</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/bird-c.jpg" alt="">
                <h3>
                    Cropped 33% vertically
                </h3>
                    <p>Seam carving didn't work well with this piece of digital art. I think it was because the background was textured, and there's no clear path across the image that doesn't run into something (be it the monkey, waves, or moon). The text was mostly preserved, though.</p>

            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/london.jpg" alt="">
                <h3>
                    Buckingham Palace
                </h3>
                <p>I took this photo in London, through the gates at Buckingham. I wanted to see if I could seamlessly remove the black bar.</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/london-c.jpg" alt="">
                <h3>
                    Cropped 20% horizontally
                </h3>
                    <p>Seam carving did remove the bar, but it didn't align the tiles in the background, so the disreptancy is obvious.</p>

            </div>
        </div>
        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/ed.jpg" alt="">
                <h3>
                    Me in Edinburgh
                </h3>
                <p>This was my Facebook profile picture for a while, but what if I want it also as my cover photo?</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/ed-bad.jpg" alt="">
                <h3>
                    Cropped to the dimensions of a cover photo
                </h3>
                    <p>Nope, too much! My face doesn't stand a chance against the detailed grass. </p>

            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/franz.png" alt="">
                <h3>
                    Me and some strangers w/ Alex Kapranos of Franz Ferdinand
                </h3>
                <p>Thus is the concert life</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/franz-c.jpg" alt="">
                <h3>
                    Cropped 25% horizontally
                </h3>
                    <p>Some faces had to be sacrificed (glad it wasn't mine!)</p>

            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Bell & Whistle: Object Removal (or preservation)
                </h1>
                <p>I then tried my hand at object removal by defining a mask for the image. The part you want to remove is defined by black pixels while the part you want to keep is white pixels. I then add this mask (weighted by .8) to the original energy description. When I seam carve the image, I also seam carve the mask, to keep things consistent. </p>
            </div>
        </div>

                <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/cute.jpg" alt="">
                <h3>
                    Three adorable baby animals!
                </h3>
                <p>Photo from some ad-ridden <a href="http://guardianlv.com/2014/04/easter-bunnies-chicks-and-ducks/">news site.</a></p>
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/cute-mask.jpg" alt="">
                <h3>
                    The mask to remove the middle duck.
                </h3>
            </div>

                        <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/cute-c.jpg" alt="">
                <h3>
                    Two adorable baby animals!
                </h3>
     
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/moon.jpg" alt="">
                <h3>
                    The moon!
                </h3>
                <p>Photo by <a href="https://www.flickr.com/photos/projectapolloarchive/21037483754/in/album-72157658601662068/">NASA</a> (they released a lot of Apollo photo archives!)</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/moon-mask.jpg" alt="">
                <h3>
                    The moon mask to preserve the astronaunt.
                </h3>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/moon-b.jpg" alt="">
                <h3>
                    Cropped 25% horizontally without a mask.
                </h3>
                
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/moon-c.jpg" alt="">
                <h3>
                    Astronaunt preserved with the mask.
                </h3>
            </div>
        </div>

                <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/mary.jpg" alt="">
                <h3>
                    John and Mary's wedding.
                </h3>
                <p>Screencap by the BBC (episode: The Sign of Three)</p>
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/mary-mask.jpg" alt="">
                <h3>
                    The mask to remove Mary.
                </h3>
            </div>

                        <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/mary-c.jpg" alt="">
                <h3>
                    John and Sherlock's wedding.
                </h3>
                <p>Although this result has its artifacts: Mary was blocking the wall and a part of Sherlock's body.</p>
            </div>
        </div>


        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/he.jpg" alt="">
                <h3>
                    He Quangui and his wife Mi Shixiu.
                </h3>
                <p>Photo by <a href="http://proof.nationalgeographic.com/2015/05/15/dying-to-breathe-a-short-film-shows-chinas-true-cost-of-gold/">Sim Chi Yi</a> (please watch this 10 minute documentary, it's really powerful.)</p>
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/he-mask.jpg" alt="">
                <h3>
                    The mask to preserve them.
                </h3>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/he-b.jpg" alt="">
                <h3>
                    Cropped 25% horizontally without a mask.
                </h3>
                
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/he-c.jpg" alt="">
                <h3>
                    Them preserved with the mask.
                </h3> <p>Compositionally though, I would have cropped some of the foilage on the left: but again, leaves = detailed = computers think they're important.</p>
            </div>
        </div>

        


        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Bell & Whistle: Different energy functions
                </h1>
                <p>In addition to using the gradient, I tried two more energy functions: Canny edges and image entropy. Canny edges are a combination of smoothing, gradient intensities, and hysteresis while entropy is a measure of how much information is encoded an image using a log scale of its histogram (so you expect more "detailed" areas like edges to have a higher entropy score.)</p>
                <p>Below is a comparison across 3 images. In my opinion, entropy and gradient give very similar results while Canny edges act more as a "normal" crop. Everything was cropped 10% in height.</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/canada.jpg" alt="">
                <h3>
                    Canada (again)
                </h3>
                
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/lion.png" alt="">
                <h3>
                   Lion from Steven Universe
                </h3>
                <p>A doodle I did on Photoshop</p>
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/amsterdam.jpg" alt="">
                <h3>
                    Amsterdam
                </h3>
            </div>
        </div>
        <h3>Canada</h3>
        <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/c/gradient-energy.jpg" alt="">
                
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/c/canny-energy.jpg" alt="">
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/c/entropy-energy.jpg" alt="">
            </div>
        </div>



        <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/c/cropped-grad.jpg" alt="">
                <h3>
                    Gradient
                </h3>
                
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/c/cropped-can.jpg" alt="">
                <h3>
                   Canny edges
                </h3>
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/c/cropped-ent.jpg" alt="">
                <h3>
                    Entropy
                </h3>
            </div>
        </div>


        <h3>Lion</h3>
        <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/lion/gradient-energy.jpg" alt="">
                
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/lion/canny-energy.jpg" alt="">
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/lion/entropy-energy.jpg" alt="">
            </div>
        </div>



        <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/lion/cropped-grad.jpg" alt="">
                <h3>
                    Gradient
                </h3>
                
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/lion/cropped-can.jpg" alt="">
                <h3>
                   Canny edges
                </h3>
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/lion/cropped-ent.jpg" alt="">
                <h3>
                    Entropy
                </h3>
            </div>
        </div>
        <h3>Amsterdam</h3>
        <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/a/gradient-energy.jpg" alt="">
                
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/a/canny-energy.jpg" alt="">
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/a/entropy-energy.jpg" alt="">
            </div>
        </div>



        <div class="row">
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/a/cropped-grad.jpg" alt="">
                <h3>
                    Gradient
                </h3>
                
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/a/cropped-can.jpg" alt="">
                <h3>
                   Canny edges
                </h3>
            </div>
            <div class="col-md-4 portfolio-item">
                    <img class="img-responsive" src="img/a/cropped-ent.jpg" alt="">
                <h3>
                    Entropy
                </h3>
            </div>
        </div>




<div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Finally! For 7.24 points: My own scene
                </h1>
                <p>To celebrate the announcement of VR game <a href="https://www.youtube.com/watch?v=2sj2iQyBTQs">Pokemon Go</a>, I superimposed some X/Y promo art on top of a picture of a street in Cantebury. I also drew Pokemon of my own to add.</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/base1.jpg" alt="">
                <h3>
                    Base Image 1
                </h3>
                
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/base2.jpg" alt="">
                <h3>
                    Base Image 2
                </h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/masterpiece-s.jpg" alt="">
                <h3>
                    The composed image.
                </h3>
                
            </div>
            <div class="col-md-6 portfolio-item">
                    <img class="img-responsive" src="img/m-c.jpg" alt="">
                <h3>
                    Seam carved 10% horizontally and vertically.
                </h3><p>You can tell the characters stay the same size as the background shifts.</p>
            </div>
        </div>
        


<div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Takeaways
                    
                </h1>
                <p>I really enjoyed how this project used dynamic programming: I learned about it in my algorithms class, thought it was boring, but now really appreciate it in application! I also loved how I could edit images from my own camera using a context-aware method with my own code. I own it all! I could, like, port this to a personal Photoshop extension. The coolest thing I learned from the assignment was the removal mask trick to recommend the least cost path to take a certain way, and I can imagine integrating it with gradient domain fusion to eliminate more hard artifacts. I also learned that computers love nature.</p>
            </div>
        </div>



    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>
